{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function imageTemplate({largeImageURL, tags, likes, views, comments, downloads, webformatURL}) {\n    return `\n      <a href=\"${largeImageURL}\" class=\"gallery-item\" data-lightbox=\"image-${largeImageURL}\" data-title=\"${tags}\">\n        <div class=\"item-gallery\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"list-img\">\n          <figcaption class=\"figcaption\">\n            <div class=\"figcaption-item\">\n              <span>Likes</span>\n              <span class=\"counter\">${likes}</span>\n            </div>\n            <div class=\"figcaption-item\">\n              <span>Views</span>\n              <span class=\"counter\">${views}</span>\n            </div>\n            <div class=\"figcaption-item\">\n              <span>Comments</span>\n              <span class=\"counter\">${comments}</span>\n            </div>\n            <div class=\"figcaption-item\">\n              <span>Downloads</span>\n              <span class=\"counter\">${downloads}</span>\n            </div>\n          </figcaption>\n        </div>\n      </a>\n    `;\n  }","import { imageTemplate } from './render-functions';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '45042882-3b5507a901f9feb9cee5f866e';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = 'true';\n\nconst options = {\n  method: 'GET',\n};\n\nexport function fetchImages(query) {\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`,\n    options\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      throw new Error(`An error occurred: ${error.message}`);\n    });\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { imageTemplate } from './js/render-functions';\n\nconst form = document.querySelector('#search-form');\nconst inputRef = document.querySelector('.js-search-input');\nconst galleryRef = document.querySelector('.gallery');\nconst loaderRef = document.querySelector('#loader');\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault(); \n\n  const inputValue = inputRef.value.trim();\n  if (inputValue !== '') {\n    onClickSearch(inputValue);\n  } else {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query!',\n    });\n  }\n});\n\nfunction onClickSearch(inputValue) {\n  galleryRef.innerHTML = ''; \n  loaderRef.style.display = 'block'; \n\n  fetchImages(inputValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        data.hits.forEach(image => {\n          const markup = imageTemplate(image);\n          galleryRef.insertAdjacentHTML('beforeend', markup);\n        });\n        iziToast.success({\n          title: 'Success',\n          message: 'Images loaded successfully!',\n        });\n\n        const lightbox = new SimpleLightbox('.gallery a', {\n          captions: true,\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: `An error occurred: ${error.message}`,\n      });\n      console.log(error);\n    })\n    .finally(() => {\n      loaderRef.style.display = 'none';\n    });\n}"],"names":["imageTemplate","largeImageURL","tags","likes","views","comments","downloads","webformatURL","BASE_URL","API_KEY","IMAGE_TYPE","ORIENTATION","SAFESEARCH","options","fetchImages","query","response","error","form","inputRef","galleryRef","loaderRef","event","inputValue","onClickSearch","iziToast","data","image","markup","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAc,CAAC,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,aAAAC,CAAY,EAAG,CAClG,MAAO;AAAA,iBACMN,CAAa,+CAA+CA,CAAa,iBAAiBC,CAAI;AAAA;AAAA,sBAEzFK,CAAY,UAAUL,CAAI;AAAA;AAAA;AAAA;AAAA,sCAIVC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAM/C,CCxBA,MAAME,EAAW,2BACXC,EAAU,qCACVC,EAAa,QACbC,EAAc,aACdC,EAAa,OAEbC,EAAU,CACd,OAAQ,KACV,EAEO,SAASC,EAAYC,EAAO,CACjC,OAAO,MACL,GAAGP,CAAQ,QAAQC,CAAO,MAAMM,CAAK,eAAeL,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,GAClHC,CACD,EACE,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,MAAM,IAAI,MAAM,sBAAsBA,EAAM,OAAO,EAAE,CAC3D,CAAK,CACL,CCnBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAY,SAAS,cAAc,SAAS,EAElDH,EAAK,iBAAiB,SAAWI,GAAU,CACzCA,EAAM,eAAc,EAEpB,MAAMC,EAAaJ,EAAS,MAAM,KAAI,EAClCI,IAAe,GACjBC,EAAcD,CAAU,EAExBE,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,CAEL,CAAC,EAED,SAASD,EAAcD,EAAY,CACjCH,EAAW,UAAY,GACvBC,EAAU,MAAM,QAAU,QAE1BP,EAAYS,CAAU,EACnB,KAAKG,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACnB,CAAS,GAEDC,EAAK,KAAK,QAAQC,GAAS,CACzB,MAAMC,EAAS5B,EAAc2B,CAAK,EAClCP,EAAW,mBAAmB,YAAaQ,CAAM,CAC3D,CAAS,EACDH,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,6BACnB,CAAS,EAEgB,IAAII,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GACxB,CAAS,EACQ,QAAO,EAExB,CAAK,EACA,MAAMZ,GAAS,CACdQ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sBAAsBR,EAAM,OAAO,EACpD,CAAO,EACD,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbI,EAAU,MAAM,QAAU,MAChC,CAAK,CACL"}